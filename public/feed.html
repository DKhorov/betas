<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>AtomGlide — AtomWiki</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
    :root{
        --bg:#ffffff;
        --muted:#6b7280;
        --text:#111827;
        --card:#f9fafb;
        --accent:#111827;
        --shadow: 0 2px 8px rgba(17,24,39,0.06);
        --max-width: 980px;
    }

    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: var(--bg);
        color: var(--text);
        line-height: 1.5;
    }

    .header {
        width:100%;
        height: 56px;
        background: #ffffff;
        box-shadow: 0 2px 4px rgba(0,0,0,0.06);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 22px;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 10;
    }

    .header-title {
        font-size: 22px;
        font-weight: bold;
        color: var(--text);
    }

    .header-sub {
        font-size: 14px;
        color: var(--muted);
        margin-left: 12px;
    }

    #clock {
        font-size: 16px;
        font-weight: 400;
        color: #374151;
        margin-right: 40px;
    }

    main {
        width: 100%;
        max-width: var(--max-width);
        margin: 100px auto 40px auto;
        padding: 0 20px;
    }

    .intro {
        margin-left: 2px;
        max-width: 900px;
        background: linear-gradient(180deg, rgba(255,255,255,1) 0%, rgba(249,250,251,1) 100%);
        padding: 18px 20px;
        border-radius: 10px;
        box-shadow: var(--shadow);
    }

    .intro h1 {
        margin: 0 0 6px 0;
        font-size: 28px;
    }

    .intro h3 {
        margin: 0 0 12px 0;
        font-weight: 400;
        color: var(--muted);
        font-size: 15px;
    }

    .intro p {
        margin: 0 0 18px 0;
        color: #333;
    }

    .list {
        margin: 0 0 18px 0;
        padding-left: 18px;
        color: #333;
    }

    .label {
        font-weight: 600;
        color: var(--accent);
        margin: 16px 0 8px;
    }
    
    .captcha-container {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }
    
    .captcha-title {
        font-size: 14px;
        color: #374151;
    }

    /* small screens */
    @media (max-width: 640px) {
        .intro h1 { font-size: 20px; }
        .table-title { font-size: 18px; }
        thead th, tbody td { padding: 10px 8px; font-size: 13px; }
        #clock { display: none; } /* hide clock on very small to save space */
    }

    p#d {
        position: fixed;
        bottom: 8px;
        right: 25px;
        font-size: 14px;
        color: #9ca3af;
    }
</style>
</head>
<body>

<div class="header">
    <div style="display: flex; align-items: center;">
        <div class="header-title">AtomWiki</div>
        <div class="header-sub">Информационный портал проекта AtomGlide</div>
    </div>
    <div id="clock">12:00:00 01.01.2025</div>
</div>

<main>
  <section class="intro" aria-labelledby="intro-title">
    <h1 id="intro-title">Служба поддержки AtomGlide.com</h1>
    <h3>Поддержка AtomGlide</h3>

    <p>
      На данной странице вы можете написать свою проблему или вопрос, касающийся сайта atomglide.com. Ваше обращение рассматривает непосредственно владелец AtomGlide, и он же отвечает.
    </p>

    <div class="label">Куда писать</div>
    <ul class="list">
      <li>Если вы нашли баг, у вас есть предложения или вопросы — пишите только сюда.</li>
      <li>Вопросы по сотрудничеству и рекламе также направляются сюда.</li>
    </ul>

    <div class="label">Время рассмотрения сообщений</div>
    <ul class="list">
      <li>Ежедневно: 07:30–08:00, 11:00–12:00, 15:00–00:00.</li>
      <li>По воскресеньям: 13:00–13:05.</li>
      <li>В праздничные дни поддержка не работает.</li>
    </ul>

    <div class="label">Безопасность</div>
    <p>
      Ваши сообщения шифруются и предварительно проверяются AI-ботами, которые анализируют текст на нарушение правил сервиса. AI отправляет модераторам только статус: «Одобрено» или «Отклонено». Это сделано для безопасности вашего обращения.
       
    </p>
<p style="color:#b91c1c;font-size:14px;">
  При заполнении формы  указывать точный тип обращения и ваш настоящий никнейм из профиля AtomGlide. 
  В противном случае обращение будет автоматически отклонено при несоответствии никнейма.
</p>
<p style="color:#374151;font-size:14px;">
  Прежде чем отправить ваше сообщение, подумайте, действительно ли стоит его отправлять.  
  Возможно, решение вашей проблемы уже есть на <strong>AtomWiki</strong> или она обсуждалась ранее с пользователями в группах и постах.  
  Если вы уверены в своём обращении — пройдите небольшой математический тест, который проверяет, что вы не бот и обеспечивает безопасность вашего обращения.
</p>

<!-- Математический тест -->
<div style="margin:14px 0;padding:12px;border:1px solid #ccc;border-radius:6px;background:#f9fafb;">
  <label for="captcha">
    пример: <strong>7 + 3 = ?</strong>
  </label>
</div>


    <p>
      Если вам нужно отправить личное сообщение владельцу сервиса, укажите в обращении запрос на получение его контактов в Telegram.
    </p>
  </section>
  <section class="intro">
  <h2>Форма обращения</h2>
  <form id="support-form" action="#" method="post" style="display:flex;flex-direction:column;gap:14px;max-width:600px;">
    
    <label>
      Имя:
      <input type="text" name="name" required style="width:100%;padding:8px;border:1px solid #ccc;border-radius:6px;">
    </label>

    <label>
      Никнейм:
      <input type="text" name="nickname" style="width:100%;padding:8px;border:1px solid #ccc;border-radius:6px;">
    </label>

    <label>
      Тип обращения:
      <select name="type" required style="width:100%;padding:8px;border:1px solid #ccc;border-radius:6px;">
        <option value="">Выберите тип...</option>
        <option>Баг</option>
        <option>Предложение</option>
        <option>Вопрос</option>
        <option>Сотрудничество</option>
        <option>Реклама</option>
        <option>Оплата</option>
        <option>Регистрация</option>
        <option>Авторизация</option>
        <option>UI/UX</option>
        <option>Скорость работы</option>
        <option>Мобильная версия</option>
        <option>API</option>
        <option>Документация</option>
        <option>Поддержка</option>
        <option>Безопасность</option>
        <option>Контент</option>
        <option>Функционал</option>
        <option>Обновления</option>
        <option>Ошибки перевода</option>
        <option>Другое</option>
      </select>
    </label>

    <label>
      Сообщение:
      <textarea name="message" rows="8" required style="width:100%;padding:10px;border:1px solid #ccc;border-radius:6px;"></textarea>
    </label>
    
    <div class="captcha-container">
        
        <label>
            <span id="captcha-question"></span>
            <input type="text" id="captcha-answer" required style="width:100%;padding:8px;border:1px solid #ccc;border-radius:6px;">
        </label>
        <div class="captcha-title">
            Проверка: для отправки сообщения решите пример. <br>
            *Проверка не только на спам, но и на осмысленность вашего обращения.
        </div>
    </div>

    <div style="display:flex;gap:12px;">
      <button type="reset" style="padding:10px 18px;border:none;border-radius:6px;background:#9ca3af;color:#fff;cursor:pointer;">
        Очистить
      </button>
      <button type="submit" style="padding:10px 18px;border:none;border-radius:6px;background:#111827;color:#fff;cursor:pointer;">
        Отправить
      </button>
    </div>
  </form>
</section>

</main>

<p id="d">(c) Дмитрий Контест 2025</p>

<script>
// Глобальная переменная для хранения ответа капчи
let captchaResult;

function generateCaptcha() {
    const num1 = Math.floor(Math.random() * 10) + 1; // 1-10
    const num2 = Math.floor(Math.random() * 10) + 1; // 1-10
    const operatorIndex = Math.floor(Math.random() * 2); // 0 для +, 1 для -
    let question = "";
    let result = 0;
    
    if (operatorIndex === 0) {
        question = `${num1} + ${num2} = ?`;
        result = num1 + num2;
    } else {
        // Гарантируем положительный результат для простоты
        const bigger = Math.max(num1, num2);
        const smaller = Math.min(num1, num2);
        question = `${bigger} - ${smaller} = ?`;
        result = bigger - smaller;
    }
    
    document.getElementById('captcha-question').textContent = question;
    captchaResult = result;
}

async function validateCaptcha(event) {
    event.preventDefault();
    const userAnswer = parseInt(document.getElementById('captcha-answer').value, 10);
    
    if (userAnswer !== captchaResult) {
        alert('Неверный ответ на проверочный пример! Попробуйте еще раз.');
        generateCaptcha();
        document.getElementById('captcha-answer').value = '';
        return false;
    }
    
    const form = document.getElementById('support-form');
    const formData = new FormData(form);
    
    const data = {
        name: formData.get('name'),
        nickname: formData.get('nickname'),
        type: formData.get('type'),
        message: formData.get('message')
    };
    
    try {
        const response = await fetch('https://atomglidedev.ru/support/tickets', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        });
        
        const result = await response.json();
        
        if (result.success) {
            alert('Ваше обращение успешно отправлено! Номер обращения: ' + result.ticketId);
            form.reset();
            generateCaptcha();
        } else {
            alert('Ошибка: ' + (result.error || 'Не удалось отправить обращение'));
        }
    } catch (error) {
        console.error('Error:', error);
        alert('Ошибка сети. Попробуйте позже.');
    }
    
    return false;
}

function updateClock() {
    const now = new Date();
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const seconds = String(now.getSeconds()).padStart(2, '0');
    const day = String(now.getDate()).padStart(2, '0');
    const month = String(now.getMonth() + 1).padStart(2, '0');
    const year = now.getFullYear();
    document.getElementById('clock').textContent =
        `${hours}:${minutes}:${seconds} ${day}.${month}.${year}`;
}

// Инициализация
document.addEventListener('DOMContentLoaded', () => {
    // Установка часов
    setInterval(updateClock, 1000);
    updateClock();
    
    // Генерация первой капчи
    generateCaptcha();
    
    // Добавление обработчика отправки формы
    document.getElementById('support-form').addEventListener('submit', validateCaptcha);
});

</script>

</body>
</html>